import { Meta, Preview, SourceState } from '@storybook/addon-docs';
import { styled } from '@storybook/theming';

import * as typography from '@liveperson-design-system/tokens/js/typography';

import { getVariablesList } from './helpers';

import TokensList from './TokensList';

<Meta title="Tokens/Typography" />

export const Head1 = styled.h1`${typography.mixins.header(1)}`;

export const Head2 = styled.h2`${typography.mixins.header(2)}`;

export const Head3 = styled.h3`${typography.mixins.header(3)}`;

export const Head4 = styled.h4`${typography.mixins.header(4)}`;

export const Head5 = styled.h5`${typography.mixins.header(5)}`;

export const Head6 = styled.h6`${typography.mixins.header(6)}`;

export const TypesetItem = styled.div`
  display: flex;
  align-items: baseline;
  &:not(:last-child) {
    margin-bottom: 1rem;
  }
`;

export const TypesetItemSize = styled.div`
  font-size: ${({ theme }) => {
    console.log(theme);
    return `${theme.typography.size.s1}px`;
  }};
  color: rgba(51,51,51,0.6);
  margin-right: ${({ theme }) => `${theme.layoutMargin * 3}px`};
`;

export const TypesetItemExample = styled.div`
  white-space: normal;
  text-overflow: ellipsis;
  overflow: hidden;
`;

export const VarValue = styled.span`
  white-space: pre;
`

# Typography

The typography section is used to describe regular typography over all LP projects.
It consists of headers, body, input, buttons lables, tag and code.

This table of styles made as presets with combinations of tokens.
If there a need to add more styles, please refer to [LPDS Governance Process](https://docs.google.com/document/d/1Iua6CuGrJFAdMRX0MVmMx6_TNPpYppKBYDmKw3Cr_WQ/edit#heading=h.4rya4in1uke4)

Base font size 1em (14px).

<Preview isColumn withSource={SourceState.NONE}>
  <TypesetItem>
    <TypesetItemSize>H1</TypesetItemSize>
    <TypesetItemExample><Head1>This is H1</Head1></TypesetItemExample>
  </TypesetItem>
</Preview>

## Variables

<TokensList
  header={['SCSS', 'JS', 'CSS', 'Values']}
  body={[
    [
      <code>$font-roboto</code>,
      <code>fonts.roboto</code>,
      <code>--lpds-typography-font-roboto</code>,
      typography.variables.fonts.roboto,
    ],
    [
      <code>$font-roboto-mono</code>,
      <code>fonts.robotoMono</code>,
      <code>--lpds-typography-font-roboto-mono</code>,
      typography.variables.fonts.robotoMono,
    ],
    [
      <code>$font-roboto-condensed</code>,
      <code>fonts.robotoCondensed</code>,
      <code>--lpds-typography-font-roboto-condensed</code>,
      typography.variables.fonts.robotoCondensed,
    ],
    ...getVariablesList(typography.variables.sizes, ['$size-', 'sizes.', '--lpds-typography-size-']),
    ...getVariablesList(typography.variables.sizes, ['$line-height-', 'lineHeights.', '--lpds-typography-line-height-']),
    ...getVariablesList(typography.variables.weights, ['$weight-', 'weights.', '--lpds-typography-weight-']),
    [
      <code>$letter-spacing-regular</code>,
      <code>letterSpacings.regular</code>,
      <code>--lpds-typography-letter-spacing-regular</code>,
      typography.variables.letterSpacings.regular,
    ],
    [
      <code>$letter-spacing-all-caps</code>,
      <code>letterSpacings.allCaps</code>,
      <code>--lpds-typography-letter-spacing-all-caps</code>,
      typography.variables.letterSpacings.allCaps,
    ],
    [
      <code>$letter-spacing-compact</code>,
      <code>letterSpacings.compact</code>,
      <code>--lpds-typography-letter-spacing-compact</code>,
      typography.variables.letterSpacings.compact,
    ],
    [
      <code>{`$font-size-heading-{1|2|3|4|5|6}`}</code>,
      <code>{`heading.{1|2|3|4|5|6}`}</code>,
      <code>{`--lpds-typography-heading-{1|2|3|4|5|6}`}</code>,
      <VarValue>
        {(
          Object.keys(typography.variables.heading)
            .filter(key => key.includes('heading-'))
            .map((key, i) => `${++i}. ${typography.variables.heading[key]}`)
            .join('\n')
        )}
      </VarValue>,
    ],
    [
      <code>{`$font-size-display-{1|2|3|4|5|6}`}</code>,
      <code>{`display.{1|2|3|4|5|6}`}</code>,
      <code>{`--lpds-typography-display-{1|2|3|4|5|6}`}</code>,
      <VarValue>
        {(
          Object.keys(typography.variables.display)
            .filter(key => key.includes('display-'))
            .map((key, i) => `${++i}. ${typography.variables.display[key]}`)
            .join('\n')
        )}
      </VarValue>,
    ],
  ]}
/>

## Mixins

### Fonts

Mixins to apply `font-family` style

- `font-family($font: roboto)`
- `with-font-family($font: roboto)`

`$font` can be either one of the provided fonts or just a `font-family` value

### Modifications

Mixins to apply rules for different types of text

- `type-all-caps` - uppercase text
- `type-link-active` - link text
- `type-inline-emphasis` - emphasis text
- `type-code` - code embed text
- `type-condensed` - for text with Roboto Condensed font

### Headers

Mixins to apply rules for headers

- `header($header: 1)`
  - `$header` - can be one of the provided headers, form 1 to 6

### Display texts

Mixins to apply rules for display texts

- `display($size: 1)`
  - `$size` - can be one of the provided display texts, form 1 to 6

### Body

Mixins to apply rules for simple body text

- `body($small: false)`
- `body-bold($small: false)`
- `body-italic($small: false)`

`$small` - to switch between font sizes, `$size-small` or `$size-body`

### Button

Mixins to apply rules for buttons

- `button($size: medium)`
  - `$size` - can be `small`, `medium` or `large`. It has influence on `font-size` and `font-weight`

### Tag

Mixins to apply rules for tags

- `tag`

### Table

Mixins to apply rules for tables and its elements

- `table-header` - header cells
- `table-cell` - body cells

### Input

Mixins to apply rules for inputs and its elements

- `input-label` - label
- `input-value` - value

### Code

Mixins to apply rules for code embed

- `code`

### Charts

Mixins to apply rules for charts and its elements

- `chart-title`
- `chart-axis-title`
- `chart-axis-label`
- `chart-number-title`
- `chart-number($big: false)`
  - `$big` - to switch between font sizes, `$font-size-heading-1` or `$font-size-heading-3`

## CSS helpers classes

### Fonts

To apply `font-family` style just add `lpds-typography-font-{roboto|roboto-mono|roboto-condensed}` class to the element.

### Sizes

To apply `font-size` style just add `lpds-typography-size-{default|body|small|large}` class to the element.

### Line heights

To apply `line-height` style just add `lpds-typography-line-height-{small|medium|large}` class to the element.

### Weights

To apply `font-weight` style just add `lpds-typography-weight-{light|regular|medium|bold}` class to the element.

### Letter spacings

To apply `letter-spacing` style just add `lpds-typography-letter-spacing-{regular|all-caps|compact}` class to the element.

### Headers

To apply `font-size` style for headers just add `lpds-typography-heading-{1|2|3|4|5|6}` class to the element.

### Styles for elements

#### Headers

To apply head styles use `lpds-typography-head-{1|2|3|4|5|6}` class.

#### Body

To apply body text styles use `lpds-typography-body` class.

Also, you can use a few variations
- `lpds-typography-body-small`
- `lpds-typography-body-{bold|italic}`
- `lpds-typography-body-{bold|italic}-small`

#### Button

To apply button styles use `lpds-typography-button` class.

Also, you can use size variations `lpds-typography-button-{small|medium|large}`

#### Tag

To apply tag styles use `lpds-typography-tag` class.

#### Table

To apply table header styles use `lpds-typography-table-header` class and `lpds-typography-table-cell` for table cell styles.

#### Input

To apply input label styles use `lpds-typography-input-label` class and `lpds-typography-input-value` for input value styles.

#### Code

To apply code text styles use `lpds-typography-code` class.

#### Chat

- `lpds-typography-chart-title` - chart title styles
- `lpds-typography-chart-axis-title` - chart axis title styles
- `lpds-typography-chart-axis-label` - chart axis label styles
- `lpds-typography-chart-number` - chart number styles
- `lpds-typography-chart-number-big` - chart big number styles
- `lpds-typography-chart-number-title` - chart number title styles
