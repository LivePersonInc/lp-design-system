import { Meta, ArgsTable } from '@storybook/addon-docs';
import { styled } from '@storybook/theming';

import Select from '@liveperson-design-system/components/src/components/select/Select';
import SelectOption from '@liveperson-design-system/components/src/components/select/SelectOption';
import '@liveperson-design-system/components/build/select';

import Preview from '../../ui/Preview';

<Meta title="Components/Inputs/Select" component={Select} subcomponents={{ SelectOption }} />

# Select

```jsx
import '@liveperson-design-system/components/select';
```

<ArgsTable of={Select} />

**Note:** Those attributes extend [HTMLTextAreaElement](https://www.w3schools.com/tags/tag_select.asp) attributes

export const SelectWrap = styled.div`
  min-height: ${({ wrapHeight = 250 }) => `${wrapHeight}px`};
`

export const SelectExample = (
  { wrapHeight = 250, numberOfOptions = 5, numberOfSuggestions, actions, ...props },
) => (
  <SelectWrap wrapHeight={wrapHeight}>
    <lp-select {...props}>
      {Array(numberOfOptions).fill(null).map((item, index) => (
        <lp-select-option
          key={index}
          slot={index < numberOfSuggestions ? 'suggestions' : undefined}
          value={index + 1}
        >
          <span>Option {index + 1}</span>
        </lp-select-option>
      ))}
      {!!actions && actions.map((action, index) => (
        <button key={index} slot="actions" type="button">{action}</button>
      ))}
    </lp-select>
  </SelectWrap>
);

## Basic

<Preview>
  <SelectExample theme="light" />
</Preview>

<Preview dark>
  <SelectExample />
</Preview>

## With scroll

<Preview>
  <SelectExample theme="light" numberOfOptions={10} numberOfSuggestions={10} />
</Preview>

## With suggestions

To put some options to the Suggestions section just add `slot="suggestions"` attribute

<Preview>
  <SelectExample theme="light" numberOfSuggestions={2} />
</Preview>

```html
<lp-select>
  <lp-select-option slot="suggestions" value="1">
    <span>Option 1</span>
  </lp-select-option>
  <lp-select-option slot="suggestions" value="2">
    <span>Option 2</span>
  </lp-select-option>
  <lp-select-option value="3">
    <span>Option 3</span>
  </lp-select-option>
  <lp-select-option value="4">
    <span>Option 4</span>
  </lp-select-option>
  <lp-select-option value="5">
    <span>Option 5</span>
  </lp-select-option>
</lp-select>
```

## With actions

To put some elements to the Actions section just add `slot="actions"` attribute

<Preview>
  <SelectExample theme="light" actions={['Action 1']} />
</Preview>

```html
<lp-select>
  <lp-select-option value="1">
    <span>Option 1</span>
  </lp-select-option>
  <lp-select-option value="2">
    <span>Option 2</span>
  </lp-select-option>
  <lp-select-option value="3">
    <span>Option 3</span>
  </lp-select-option>

  <button slot="actions" type="button">Action</button>
</lp-select>
```

## With suggestions and actions

<Preview>
  <SelectExample theme="light" numberOfSuggestions={2} actions={['Action 1']} />
</Preview>

## With search

<Preview>
  <SelectExample theme="light" search />
</Preview>

## Multiple Selection

<Preview>
  <SelectExample theme="light" multiple />
</Preview>

## With search and multiple Selection

<Preview>
  <SelectExample theme="light" search multiple />
</Preview>

## With Select all

<Preview>
  <SelectExample theme="light" withSelectAll="Select all" multiple />
</Preview>
