import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import { getPropsByDefaultProps } from '../../common/helpers';
import { commonArgTypes, hideControls } from '../../common/storybook';

import FileInput, { events } from './FileInput';
import './';

<Meta
  title="Components/Inputs/FileInput"
  component={FileInput}
  args={FileInput.defaultProps}
  argTypes={{
    ...commonArgTypes,
    buttonLabel: {},
    uploading: {},
    uploadingButtonLabel: {},
    uploadingProgress: {
      control: { type: 'range', min: 0,  max: 100 },
    },
  }}
  parameters={{
    actions: {
      handles: events,
    },
  }}
/>

export const Template = props => <lp-file-input {...getPropsByDefaultProps(FileInput.defaultProps, props)} />;

# FileInput

<ArgsTable of={FileInput} />

**Note:** Those attributes extend [HTMLInputElement](https://www.w3schools.com/tags/tag_input.asp) attributes

## Basic

<Canvas>
  <Story name="Basic">
    {Template.bind({})}
  </Story>
</Canvas>

## Disabled

<Canvas>
  <Story
    name="Disabled"
    args={{ disabled: true }}
    parameters={{
      controls: { disable: true },
      actions: { disable: true },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Uploading

<Canvas>
  <Story
    name="Uploading"
    args={{ uploading: true, uploadingProgress: 25 }}
    argTypes={hideControls(['theme', 'size', 'buttonLabel', 'uploading', 'multiple', 'error', 'disabled', 'readOnly'])}
    parameters={{
      actions: { disable: true },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Error

<Canvas>
  <Story
    name="Error"
    args={{ error: true }}
    parameters={{
      controls: { disable: true },
      actions: { disable: true },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Multiple Selection

<Canvas>
  <Story
    name="Multiple Selection"
    args={{ multiple: true }}
    parameters={{
      controls: { disable: true },
      actions: { disable: true },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
