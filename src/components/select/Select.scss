@use '~lpds/styles/border-radius';
@use '~lpds/styles/colors';
@use '~lpds/styles/colors-light';
@use '~lpds/styles/spacing';
@use '~lpds/styles/transparency';
@use '~lpds/styles/typography';

:host {
  --color-dropdown-border-open: #{colors.$cyan};
  --color-dropdown-content: #{colors.$navy-black};

  --color-separator: #{transparency.$light-3};

  --color-button: #{colors.$cyan};
  --color-button-hover: #{transparency.$light-1};
}

$dropdown-content-border-radius: border-radius.get-border-radius();

lp-dropdown {
  &::part(content) {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-height: 200px;
    border: 1px solid var(--color-dropdown-border-open);
    border-top: none;
    border-radius: 0 0 $dropdown-content-border-radius $dropdown-content-border-radius;
    background-color: var(--color-dropdown-content);
    overflow: hidden;
  }
}

.options {
  flex-grow: 1;
  overflow: auto;
}

lp-text-input {
  display: flex;

  &.open {
    &::part(input) {
      border-bottom: none;
      border-color: var(--color-dropdown-border-open);
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }
}

slot {
  &[name="suggestions"] {
    display: block;
    box-shadow: inset 0 -1px 0 0 var(--color-separator);
  }

  &[name="actions"] {
    display: flex;
    flex-shrink: 0;
    box-shadow: inset 0 1px 0 0 var(--color-separator);

    &::slotted(button) {
      display: flex;
      align-items: center;
      flex: 1 0 auto;
      @include typography.button-label;
      color: var(--color-button);
      border: none;
      background: none;
      box-shadow: none;
      padding: spacing.get-space(xs, true) spacing.get-space(s, true);
      cursor: pointer;
      transition: all .15s ease-out;
    }
    &::slotted(button:hover),
    &::slotted(button:focus) {
      background-color: var(--color-button-hover);
    }
    &::slotted(button:focus) {
      outline: none;
    }
  }
}
