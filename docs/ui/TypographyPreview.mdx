import { createElement } from 'react';
import { css, styled, themes } from '@storybook/theming';
import { loremIpsum } from 'lorem-ipsum';

export const Table = styled.table`
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
  color: ${({ light }) => (light ? themes.light.textColor : themes.dark.textColor)};
  td:first-of-type {
    color: ${({ light }) => (light ? 'rgba(51, 51, 51, .6)' : 'rgba(255, 255, 255, .4)')};
  }
`;

export const Td = styled.td`
  vertical-align: middle;
  &:first-of-type {
    width: 1%;
    font-size: ${({ theme }) => `${theme.typography.size.s1}px`};
    white-space: nowrap;
    padding-right: ${({ theme }) => `${theme.layoutMargin * 3}px`};
  }
  tr:not(:last-child) & {
    padding-bottom: 1rem;
  }
`;

export const TypographyPreview = ({ light, items }) => (
  <Table light={light}>
    <tbody>
    {items.map(({ name, example, exampleProps = null, exampleChildren = loremIpsum() }, index) => (
      <tr key={index}>
        <Td>{name || `${++index}.`}</Td>
        <Td>{createElement(example, exampleProps, exampleChildren)}</Td>
      </tr>
    ))}
    </tbody>
  </Table>
);

export default TypographyPreview
