import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import { getPropsByDefaultProps } from '../../common/helpers';
import { commonArgTypes, hideControls } from '../../common/storybook';

import Chip from './Chip';
import ChipGroup from './ChipGroup';
import './';

<Meta
  title="Components/Chip"
  component={Chip}
  args={{
    ...Chip.defaultProps,
    label: 'Chip',
  }}
  argTypes={commonArgTypes}
  parameters={{
    actions: {
      handles: ['remove'],
    },
  }}
/>

export const Template = props => <lp-chip {...getPropsByDefaultProps(Chip.defaultProps, props)} />;

# Chip

<ArgsTable of={Chip} />

## Basic

<Canvas>
  <Story name="Basic">
    {Template.bind({})}
  </Story>
</Canvas>

## Removable

<Canvas>
  <Story name="Removable" args={{ removable: true }}>
    {Template.bind({})}
  </Story>
</Canvas>

## ChipGroup

<Canvas>
  <Story
    name="ChipGroup"
    args={{ chips: ['Chip 1', 'Chip 2', 'Chip 3'], label: undefined }}
    argTypes={hideControls(['label'])}
  >
    {({ chips, ...props }) => (
      <lp-chip-group {...getPropsByDefaultProps(ChipGroup.defaultProps, props)}>
        {chips.map((chip, index) => <lp-chip key={index} label={chip} />)}
      </lp-chip-group>
    )}
  </Story>
</Canvas>
