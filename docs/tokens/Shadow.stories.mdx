import { Meta, Preview } from '@storybook/addon-docs';
import { styled } from '@storybook/theming';

import * as shadow from '@liveperson-design-system/tokens/js/shadow';

import VariablesList from '../components/VariablesList.mdx';

import TokensList from './TokensList';

export const BoxShadowExample = styled.div`
  box-shadow: ${({ shadow }) => shadow};
`;

export const TextShadowExample = styled.div`
  text-shadow: ${({ shadow }) => shadow};
`;

export const VarValue = styled.span`
  white-space: pre;
`

<Meta title="Tokens/Shadow" />

# Shadow

Shadows can be used only on modals and popovers to show elevation, or on text to enhance legibility.

## Shadows

<Preview>
  {Object.keys(shadow.variables.shadow).map(key => (
    <BoxShadowExample key={key} shadow={shadow.variables.shadow[key]}>{key}</BoxShadowExample>
  ))}
</Preview>

<VariablesList
  variables={shadow.variables.shadow}
  prefixes={['$shadow-', 'shadow.', '--lpds-shadow-']}
  mapValue={value => <VarValue>{value.replace(/\),\s/g, '),\n')}</VarValue>}
/>

## Variables

<TokensList
  header={['SCSS', 'JS', 'CSS', 'Values']}
  body={[
    [
      <code>$shadow-dark-text-s</code>,
      <code>shadowText.dark.s</code>,
      <code>--lpds-shadow-text-dark-s</code>,
      <VarValue>{shadow.variables.shadowText.dark.s.replace(/\),\s/g, '),\n')}</VarValue>,
    ],
    [
      <code>$shadow-dark-text-l</code>,
      <code>shadowText.dark.l</code>,
      <code>--lpds-shadow-text-dark-l</code>,
      <VarValue>{shadow.variables.shadowText.dark.l.replace(/\),\s/g, '),\n')}</VarValue>,
    ],
    [
      <code>$shadow-light-text-s</code>,
      <code>shadowText.light.s</code>,
      <code>--lpds-shadow-text-light-s</code>,
      <VarValue>{shadow.variables.shadowText.light.s.replace(/\),\s/g, '),\n')}</VarValue>,
    ],
    [
      <code>$shadow-light-text-l</code>,
      <code>shadowText.light.l</code>,
      <code>--lpds-shadow-text-light-l</code>,
      <VarValue>{shadow.variables.shadowText.light.l.replace(/\),\s/g, '),\n')}</VarValue>,
    ],
    [
      <code>$card-dark</code>,
      <code>shadowCard.dark</code>,
      <code>--lpds-shadow-card-dark</code>,
      <VarValue>{shadow.variables.shadowCard.dark.replace(/\),\s/g, '),\n')}</VarValue>,
    ],
    [
      <code>$card-dark-hover</code>,
      <code>shadowCard.darkHover</code>,
      <code>--lpds-shadow-card-dark-hover</code>,
      <VarValue>{shadow.variables.shadowCard.darkHover.replace(/\),\s/g, '),\n')}</VarValue>,
    ],
    [
      <code>$card-light</code>,
      <code>shadowCard.light</code>,
      <code>--lpds-shadow-card-light</code>,
      <VarValue>{shadow.variables.shadowCard.light.replace(/\),\s/g, '),\n')}</VarValue>,
    ],
    [
      <code>$card-light-hover</code>,
      <code>shadowCard.lightHover</code>,
      <code>--lpds-shadow-card-light-hover</code>,
      <VarValue>{shadow.variables.shadowCard.lightHover.replace(/\),\s/g, '),\n')}</VarValue>,
    ],
  ]}
/>

<VariablesList
  variables={shadow.variables.shadowInput}
  prefixes={['$shadow-input-', 'shadow.', '--lpds-shadow-input-']}
  mapValue={value => <VarValue>{value.replace(/\),\s/g, '),\n')}</VarValue>}
/>

## Mixins

- `box-shadow($size)` - to apply `box-shadow` rule
  - `$size` - one of the available shadow sizes or a value
- `text-shadow($size, $text-color: light)` - to apply `text-shadow` rule
  - `$size` - one of the available text shadow sizes
  - `$text-color` - can be `light` or `dark`
- `card-shadow($hover: false, $theme: light)` - to apply `box-shadow` rule for the cards
  - `$hover` - to apply shadow for default card state or for hover state
  - `$theme` - can be `light` or `dark`
- `input-shadow($type)` - to apply `box-shadow` rule for the inputs
  - `$type` - one of the available shadow types

### JS

- `boxShadow: (size: BoxShadows | string): string`
- `textShadow: (size: TextShadows, textColor: 'light' | 'dark' = 'light'): string`
- `cardShadow: (hover: boolean = false, theme: Theme = 'dark'): string`
- `inputShadow: (type: 'v'): string`

## CSS helpers classes

### Box shadow

To apply `box-shadow` style just add `lpds-shadow-{s|l|xl|xxl}` class to the element.

### Text shadow

To apply `text-shadow` style just add `lpds-shadow-text-{dark|light}-{s|l}` class to the element.

### Card shadow

To apply `box-shadow` style for cards just add `lpds-shadow-card-{dark|light}` class to the element.
Also, `lpds-shadow-card-{dark|light}-hover` for hovered elements.

### Input shadow

To apply `box-shadow` style for inputs just add `lpds-shadow-input-{v}` class to the element.
