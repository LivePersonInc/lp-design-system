import { Meta, Story, Canvas, ArgsTable, SourceState } from '@storybook/addon-docs';

import { getPropsByDefaultProps } from '../../common/helpers';
import { getCommonArgTypes, getEmptyArgTypes, hideControls } from '../../common/storybook';

import SliderInput from './SliderInput';
import './';

<Meta
  title="Components/Inputs/SliderInput"
  component={SliderInput}
  args={SliderInput.defaultProps}
  argTypes={{
    ...getCommonArgTypes(SliderInput.defaultProps),
    ...getEmptyArgTypes(['min', 'max', 'step']),
    ...hideControls(['value', 'defaultValue']),
  }}
  parameters={{
    actions: {
      handles: ['slider-input-change'],
    },
  }}
/>

export const Template = props => <lp-slider-input {...getPropsByDefaultProps(SliderInput.defaultProps, props)} />;

# SliderInput

<ArgsTable of={SliderInput} />

## Basic

<Canvas>
  <Story name="Basic">
    {Template.bind({})}
  </Story>
</Canvas>

## Range

<Canvas withSource={SourceState.OPEN}>
  <Story
    name="Range"
    args={{ range: true }}
    parameters={{
      controls: { disable: true },
      actions: { disable: true },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Controlled

<Canvas withSource={SourceState.OPEN}>
  <Story
    name="Controlled"
    args={{ value: 5 }}
    argTypes={{
      ...hideControls(['theme', 'min', 'max', 'step', 'range', 'disabled', 'readOnly']),
      value: {
        table: { disable: false },
        control: { type: 'range', min: 0, max: 10 },
      },
    }}
    parameters={{
      actions: { disable: true },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Controlled range

<Canvas withSource={SourceState.OPEN}>
  <Story
    name="Controlled range"
    args={{
      value: '[2,8]',
      range: true,
    }}
    argTypes={{
      ...hideControls(['theme', 'min', 'max', 'step', 'range', 'disabled', 'readOnly']),
      valueFrom: {
        control: { type: 'range', min: 0, max: 10 },
      },
      valueTo: {
        control: { type: 'range', min: 0, max: 10 },
      },
    }}
    parameters={{
      actions: { disable: true },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
