import { Meta } from '@storybook/addon-docs';
import { styled } from '@storybook/theming';
import { noCase } from 'change-case';
import { titleCase } from 'title-case';
import dedent from 'ts-dedent';

import '@liveperson-design-system/components/build/button';
import * as typography from '@liveperson-design-system/tokens/build/js/typography';

import Preview from '../ui/Preview';
import TypographyPreview from '../ui/TypographyPreview.mdx';
import VariablesList from '../ui/VariablesList.mdx';

<Meta title="Tokens/Typography" />

# Typography

The typography section is used to describe regular typography over all LP projects.
It consists of headers, body, input, buttons lables, tag and code.

This table of styles made as presets with combinations of tokens.
If there a need to add more styles, please refer to [LPDS Governance Process](https://docs.google.com/document/d/1Iua6CuGrJFAdMRX0MVmMx6_TNPpYppKBYDmKw3Cr_WQ/edit#heading=h.4rya4in1uke4)

Base font size 1em (14px).

1. [Fonts](#fonts)
1. [Sizes](#sizes)
1. [Line heights](#line-heights)
1. [Weights](#weights)
1. [Letter spacings](#letter-spacings)
1. [Heading](#heading)
1. [Display](#display)
1. [Modifications](#modifications)
1. [Body](#body)
1. [Button](#button)
1. [Tag](#tag)
1. [Table](#table)
1. [Input](#input)
1. [Code](#code)
1. [Charts](#charts)

## Fonts

<Preview isColumn>
  <TypographyPreview
    singleLine
    items={Object.keys(typography.variables.fonts).map(name => ({
      name: titleCase(noCase(name)),
      example: styled.div`
        ${typography.mixins.fontFamily(name)};
        font-size: ${({ theme }) => `${theme.typography.size.l2}px`};
      `,
      exampleText: 'Almost before we knew it, we had left the ground.',
    }))}
  />
</Preview>

<VariablesList
  variables={typography.variables.fonts}
  prefixes={['$font-', 'fonts.', '--lpds-typography-font-']}
/>

### Mixins

- `font-family($font: roboto)` - to apply `font-family` style
- `with-font-family($font: roboto)` - to apply `font-family` style with font rendering optimizations

`$font` can be either one of the provided fonts or just a `font-family` value

## Sizes

<Preview isColumn>
  <TypographyPreview
    items={Object.keys(typography.variables.sizes).map(name => ({
      name: `${titleCase(name)} (${typography.variables.sizes[name]})`,
      example: styled.p`font-size: ${typography.variables.sizes[name]}`,
    }))}
    loremIpsumOptions={{ count: 7 }}
  />
</Preview>

<VariablesList
  variables={typography.variables.sizes}
  prefixes={['$size-', 'sizes.', '--lpds-typography-size-']}
/>

## Line heights

<Preview isColumn>
  <TypographyPreview
    items={Object.keys(typography.variables.lineHeights).map(name => ({
      name: `${titleCase(name)} (${typography.variables.lineHeights[name]})`,
      example: styled.p`line-height: ${typography.variables.lineHeights[name]}`,
    }))}
    loremIpsumOptions={{ count: 7 }}
  />
</Preview>

<VariablesList
  variables={typography.variables.lineHeights}
  prefixes={['$line-height-', 'lineHeights.', '--lpds-typography-line-height-']}
/>

## Weights

<Preview isColumn>
  <TypographyPreview
    items={Object.keys(typography.variables.weights).map(name => ({
      name: `${titleCase(name)} (${typography.variables.weights[name]})`,
      example: styled.p`font-weight: ${typography.variables.weights[name]}`,
    }))}
    loremIpsumOptions={{ count: 7 }}
  />
</Preview>

<VariablesList
  variables={typography.variables.weights}
  prefixes={['$weight-', 'weights.', '--lpds-typography-weight-']}
/>

## Letter spacings

<Preview isColumn>
  <TypographyPreview
    singleLine
    items={Object.keys(typography.variables.letterSpacings).map(name => ({
      name: `${titleCase(name)} (${typography.variables.letterSpacings[name]})`,
      example: styled.p`
        font-size: ${({ theme }) => `${theme.typography.size.l3}px`};
        letter-spacing: ${typography.variables.letterSpacings[name]};
        text-transform: uppercase;
      `,
    }))}
    loremIpsumOptions={{ count: 1, units: 'words' }}
  />
</Preview>

<VariablesList
  variables={typography.variables.letterSpacings}
  prefixes={['$letter-spacing-', 'letterSpacings.', '--lpds-typography-letter-spacing-']}
/>

## Heading

<Preview isColumn>
  <TypographyPreview
    singleLine
    items={Object.keys(typography.variables.heading).map(name => ({
      name: `H${name}`,
      example: styled[`h${name}`]`${typography.mixins.header(name)}`,
    }))}
    loremIpsumOptions={{ count: 1, sentenceLowerBound: 7, sentenceUpperBound: 10 }}
  />
</Preview>

<VariablesList
  variables={typography.variables.heading}
  prefixes={['$font-size-heading-', 'heading.', '--lpds-typography-heading-']}
/>

### Mixins

- `header($header: 1)` - to apply styles for headers
  - `$header` - can be one of the provided headers, form 1 to 6

## Display

<Preview isColumn>
  <TypographyPreview
    singleLine
    items={Object.keys(typography.variables.display).map(name => ({
      name: `D${name}`,
      example: styled.div`${typography.mixins.display(name)}`,
    }))}
    loremIpsumOptions={{ count: 1, sentenceLowerBound: 7, sentenceUpperBound: 10 }}
  />
</Preview>

<VariablesList
  variables={typography.variables.display}
  prefixes={['$font-size-display-', 'display.', '--lpds-typography-display-']}
/>

### Mixins

- `display($size: 1)` - to apply styles for display texts
  - `$size` - can be one of the provided display texts, form 1 to 6

## Modifications

<Preview isColumn>
  <TypographyPreview
    items={['AllCaps', 'LinkActive', 'InlineEmphasis', 'Code', 'Condensed'].map(name => ({
      name: titleCase(name),
      example: styled.p`${typography.mixins[`type${name}`]()}`,
    }))}
    loremIpsumOptions={{ count: 1, sentenceUpperBound: 10 }}
  />
</Preview>

### Mixins

- `type-all-caps` - uppercase text
- `type-link-active` - link text
- `type-inline-emphasis` - emphasis text
- `type-code` - code embed text
- `type-condensed` - for text with Roboto Condensed font

## Body

<Preview isColumn>
  <TypographyPreview
    items={[
      ...['body', 'bodyBold', 'bodyItalic'].map(name => ({
        name: titleCase(name),
        example: styled.p`${typography.mixins[name]()}`,
      })),
      ...['body', 'bodyBold', 'bodyItalic'].map(name => ({
        name: titleCase(`${name}Small`),
        example: styled.p`${typography.mixins[name](true)}`,
      })),
    ]}
    loremIpsumOptions={{ count: 7 }}
  />
</Preview>

### Mixins

- `body($small: false)`
- `body-bold($small: false)`
- `body-italic($small: false)`

`$small` - to switch between font sizes, `$size-small` or `$size-body`

## Button

export const button = props => <lp-button {...props} />;

<Preview isColumn>
  <TypographyPreview
    items={['small', 'medium', 'large'].map(name => ({
      name: titleCase(name),
      example: button,
      exampleProps: { label: 'Button', size: name },
      exampleText: null,
    }))}
  />
</Preview>

### Mixins

- `button($size: medium)`
  - `$size` - can be `small`, `medium` or `large`. It has influence on `font-size` and `font-weight`

## Tag

<Preview isColumn>
  <TypographyPreview
    items={[
      {
        name: 'Default',
        example: styled.p`${typography.mixins.tag()}`,
        exampleText: 'Tag',
      },
    ]}
  />
</Preview>

### Mixins

- `tag`

## Table

<Preview isColumn>
  <TypographyPreview
    items={['Header', 'Cell'].map(name => ({
      name,
      example: styled.p`${typography.mixins[`table${name}`]()}`,
      exampleText: 'Cell',
    }))}
  />
</Preview>

### Mixins

- `table-header` - header cells
- `table-cell` - body cells

## Input

<Preview isColumn>
  <TypographyPreview
    items={['Label', 'Value'].map(name => ({
      name,
      example: styled.p`${typography.mixins[`input${name}`]()}`,
      exampleText: 'First name',
    }))}
  />
</Preview>

### Mixins

- `input-label` - label
- `input-value` - value

## Code

export const CodeExample = styled.code`
  ${typography.mixins.code()};
  color: ${({ theme }) => theme.color.defaultText};
`;

<Preview isColumn>
  <CodeExample>
    {dedent`
      @use '~@liveperson-design-system/tokens/scss/typography';
      \n
      code,
      pre {
        @include typography.code;
      }
    `}
  </CodeExample>
</Preview>

### Mixins

- `code`

## Charts

<Preview isColumn>
  <TypographyPreview
    items={[
      ...['Title', 'AxisTitle', 'AxisLabel', 'NumberTitle', 'Number', 'NumberBig'].map(name => ({
        name: titleCase(noCase(name)),
        example: styled.p`${typography.mixins[`chart${name === 'NumberBig' ? 'Number' : name}`](name === 'NumberBig')}`,
        exampleText: (name === 'Number' || name === 'NumberBig' ? '1 234' : 'Price'),
      })),
    ]}
    loremIpsumOptions={{ count: 2, units: 'words' }}
  />
</Preview>

### Mixins

- `chart-title`
- `chart-axis-title`
- `chart-axis-label`
- `chart-number-title`
- `chart-number($big: false)`
  - `$big` - to switch between font sizes, `$font-size-heading-1` or `$font-size-heading-3`

## CSS helpers classes

### Fonts

To apply `font-family` style just add `lpds-typography-font-{roboto|roboto-mono|roboto-condensed|roboto-slab}` class to the element.

### Sizes

To apply `font-size` style just add `lpds-typography-size-{default|body|small|large}` class to the element.

### Line heights

To apply `line-height` style just add `lpds-typography-line-height-{small|medium|large}` class to the element.

### Weights

To apply `font-weight` style just add `lpds-typography-weight-{light|regular|medium|bold}` class to the element.

### Letter spacings

To apply `letter-spacing` style just add `lpds-typography-letter-spacing-{regular|all-caps|compact|small}` class to the element.

### Headers

To apply `font-size` style for headers just add `lpds-typography-heading-{1|2|3|4|5|6}` class to the element.

### Styles for elements

#### Headers

To apply head styles use `lpds-typography-head-{1|2|3|4|5|6}` class.

#### Body

To apply body text styles use `lpds-typography-body` class.

Also, you can use a few variations
- `lpds-typography-body-small`
- `lpds-typography-body-{bold|italic}`
- `lpds-typography-body-{bold|italic}-small`

#### Button

To apply button styles use `lpds-typography-button` class.

Also, you can use size variations `lpds-typography-button-{small|medium|large}`

#### Tag

To apply tag styles use `lpds-typography-tag` class.

#### Table

To apply table header styles use `lpds-typography-table-header` class and `lpds-typography-table-cell` for table cell styles.

#### Input

To apply input label styles use `lpds-typography-input-label` class and `lpds-typography-input-value` for input value styles.

#### Code

To apply code text styles use `lpds-typography-code` class.

#### Chat

- `lpds-typography-chart-title` - chart title styles
- `lpds-typography-chart-axis-title` - chart axis title styles
- `lpds-typography-chart-axis-label` - chart axis label styles
- `lpds-typography-chart-number` - chart number styles
- `lpds-typography-chart-number-big` - chart big number styles
- `lpds-typography-chart-number-title` - chart number title styles
